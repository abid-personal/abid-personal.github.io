1:HL["/_next/static/media/7cba1811e3c25a15-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:HL["/_next/static/css/cd219d613ad8989f.css","style",{"crossOrigin":""}]
3:HL["/_next/static/css/959e61cd6bf7e234.css","style",{"crossOrigin":""}]
0:["8A17WgayQp_T-PygQTLuw",[[["",{"children":["(blog)",{"children":[["slug","nextjs-vercel","c"],{"children":["__PAGE__?{\"slug\":[\"nextjs-vercel\"]}",{}]}]}]},"$undefined","$undefined",true],"$L4",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/cd219d613ad8989f.css","precedence":"next","crossOrigin":""}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/959e61cd6bf7e234.css","precedence":"next","crossOrigin":""}]],"$L5"]]]]
6:HL["/_next/static/css/c1c99bc127b9f571.css","style",{"crossOrigin":""}]
7:I[1087,["878","static/chunks/9da6db1e-fe005e7e52eb3467.js","326","static/chunks/326-f0b929b9e51900a5.js","185","static/chunks/app/layout-2ffae3625ca75b72.js"],"CSPostHogProvider"]
8:I[7821,["878","static/chunks/9da6db1e-fe005e7e52eb3467.js","326","static/chunks/326-f0b929b9e51900a5.js","185","static/chunks/app/layout-2ffae3625ca75b72.js"],"ThemeProviders"]
9:I[8326,["326","static/chunks/326-f0b929b9e51900a5.js","202","static/chunks/app/(blog)/%5B...slug%5D/page-47a78e5a6d2fc851.js"],""]
a:I[5235,["878","static/chunks/9da6db1e-fe005e7e52eb3467.js","326","static/chunks/326-f0b929b9e51900a5.js","185","static/chunks/app/layout-2ffae3625ca75b72.js"],""]
b:I[6954,[],""]
c:I[7264,[],""]
4:[null,["$","html",null,{"lang":"en-us","className":"__variable_bc0dcf scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/favicon.svg"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/favicon.svg"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/favicon.svg"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/favicon.svg","color":"#5bbad5"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","$L7",null,{"children":["$","body",null,{"className":"m-auto max-w-2xl dark:text-gray-100","children":["$","$L8",null,{"children":[["$","main",null,{"className":"min-h-screen p-6 pt-3 md:pt-6","children":[["$","header",null,{"className":"mb-5 flex items-center md:mb-10","children":[["$","span",null,{"className":"text-md whitespace-nowrap font-bold md:text-lg","children":["$","$L9",null,{"href":"/","className":"-ml-2 rounded-sm p-2 transition-[background-color] hover:bg-gray-200 active:bg-gray-300 dark:hover:bg-[#313131] dark:active:bg-[#242424]","children":"Omar Abid"}]}],["$","nav",null,{"className":"flex grow items-center justify-end gap-1 font-mono text-xs md:gap-3","children":[["$","$La",null,{}],["$","a",null,{"className":"inline-flex rounded-sm p-2 transition-[background-color] hover:bg-gray-200 active:bg-gray-300 dark:hover:bg-[#313131] dark:active:bg-[#242424]","href":"/about","children":"About"}]]}]]}],["$","$Lb",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lc",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pb-8 pt-6 md:space-y-5","children":["$","h1",null,{"className":"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl font-bold leading-normal md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L9",null,{"href":"/","className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500","children":"Back to homepage"}]]}]]}],"notFoundStyles":[],"initialChildNode":["$","$Lb",null,{"parallelRouterKey":"children","segmentPath":["children","(blog)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lc",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","initialChildNode":["$","$Lb",null,{"parallelRouterKey":"children","segmentPath":["children","(blog)","children",["slug","nextjs-vercel","c"],"children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lc",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","initialChildNode":["$Ld","$Le",null],"childPropSegment":"__PAGE__?{\"slug\":[\"nextjs-vercel\"]}","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c1c99bc127b9f571.css","precedence":"next","crossOrigin":""}]]}],"childPropSegment":["slug","nextjs-vercel","c"],"styles":null}],"childPropSegment":"(blog)","styles":null}]]}],["$","footer",null,{"className":"mt-3 flex p-6 pb-6 pt-3 text-center font-mono text-xs text-gray-500 dark:text-gray-400","children":[["$","div",null,{"className":"grow text-left","children":["Omar Abid (",["$","a",null,{"className":"border-b border-gray-300 text-gray-600 transition-[border-color] hover:border-gray-600 dark:border-gray-500 dark:text-white dark:hover:border-white ","target":"_blank","href":"https://github.com/omarabid","children":"@omarabid"}],")"]}],["$","div",null,{}]]}]]}]}]}]]}],null]
5:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Next.js 15.1+ is unusable outside of Vercel | Omar Abid - Personal Blog"}],["$","meta","3",{"name":"description","content":"TBD"}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","6",{"rel":"canonical","href":"https://omarabid.com/nextjs-vercel"}],["$","link","7",{"rel":"alternate","type":"application/rss+xml","href":"https://omarabid.com/feed.xml"}],["$","meta","8",{"property":"og:title","content":"Next.js 15.1+ is unusable outside of Vercel"}],["$","meta","9",{"property":"og:description","content":"TBD"}],["$","meta","10",{"property":"og:url","content":"https://omarabid.com/nextjs-vercel"}],["$","meta","11",{"property":"og:site_name","content":"Omar Abid - Personal Blog"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:type","content":"article"}],["$","meta","14",{"property":"article:published_time","content":"2025-06-12T00:00:00.000Z"}],["$","meta","15",{"property":"article:modified_time","content":"2025-06-12T00:00:00.000Z"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"Next.js 15.1+ is unusable outside of Vercel"}],["$","meta","18",{"name":"twitter:description","content":"TBD"}],["$","meta","19",{"name":"next-size-adjust"}]]
f:I[1514,["326","static/chunks/326-f0b929b9e51900a5.js","202","static/chunks/app/(blog)/%5B...slug%5D/page-47a78e5a6d2fc851.js"],""]
10:I[6598,["326","static/chunks/326-f0b929b9e51900a5.js","202","static/chunks/app/(blog)/%5B...slug%5D/page-47a78e5a6d2fc851.js"],""]
e:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Next.js 15.1+ is unusable outside of Vercel\",\"datePublished\":\"2025-06-12T00:00:00.000Z\",\"dateModified\":\"2025-06-12T00:00:00.000Z\",\"description\":\"TBD\",\"url\":\"https://omarabid.com/nextjs-vercel\",\"author\":[{\"@type\":\"Person\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$Lf",null,{}],["$","div",null,{"className":"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700","children":[["$","header",null,{"className":"pt-6 xl:pb-6","children":[["$","h1",null,{"className":"text-2xl font-bold mb-1 dark:text-gray-100","children":"Next.js 15.1+ is unusable outside of Vercel"}],["$","p",null,{"className":"font-mono flex text-xs text-gray-500 dark:text-gray-500","children":[["$","span",null,{"className":"flex-grow","children":[["$","span",null,{"className":"hidden md:inline","children":[["$","span",null,{"children":["$","a",null,{"href":"https://github.com/omarabid","className":"hover:text-gray-800 dark:hover:text-gray-400","target":"_blank","children":"@omarabid"}]}],["$","span",null,{"className":"mx-2","children":"|"}]]}],["$","span",null,{"children":["$","time",null,{"dateTime":"2025-06-12T00:00:00.000Z","children":"Thursday, June 12, 2025"}]}]]}],["$","span",null,{"className":"pr-1.5"}]]}]]}],["$","article",null,{"className":"text-gray-800 dark:text-gray-300 mb-10","children":["$","div",null,{"className":"prose max-w-none pb-8 pt-10 dark:prose-invert","children":[[["$","p",null,{"children":"If you use Next.js anywhere but Vercel, here's some bad news: Next.js 15.1+ is broken."}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"tl;dr"}],": Starting with version 15.1.8, Next.js might break metadata handling for non-Vercel deployments, potentially devastating your search rankings. This is not a ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://github.com/vercel/next.js/issues/77519#issuecomment-2770488614","children":"bug"}],"."]}]}],["$","h3",null,{"id":"when-did-this-happen","children":[["$","a",null,{"href":"#when-did-this-happen","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"When Did This Happen?"]}],["$","p",null,{"children":["In 2024, Vercel introduced ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://nextjs.org/blog/next-15-2#streaming-metadata","children":"metadata streaming"}]," as an experimental feature. This fundamentally changes how Next.js handles metadata."]}],["$","p",null,{"children":[["$","strong",null,{"children":"Traditional approach:"}]," Metadata tags (title, description, Open Graph tags) are rendered directly in the HTML ",["$","code",null,{"children":"<head>"}]," during server-side rendering or static generation."]}],["$","p",null,{"children":[["$","strong",null,{"children":"Metadata streaming:"}]," These same tags are sent separately after the initial page load, requiring JavaScript execution."]}],["$","h3",null,{"id":"vercels-technical-justification","children":[["$","a",null,{"href":"#vercels-technical-justification","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"Vercel's Technical Justification"]}],["$","p",null,{"children":["Vercel's stated rationale centers on performance optimization for metadata generation that ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://github.com/vercel/next.js/issues/55524","children":"causes computational bottlenecks"}],". However, this solution creates more problems than it solves:"]}],["$","ul",null,{"children":[["$","li",null,{"children":"Metadata is typically static and lightweight (< 1KB)"}],["$","li",null,{"children":"Server round-trips for metadata are more expensive than inline generation"}],["$","li",null,{"children":"Dynamic metadata needs are edge cases, not the norm"}],["$","li",null,{"children":["The implementation of metadata streaming is complex and ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://github.com/vercel/next.js/issues/77519","children":"confusing"}],"."]}]]}],["$","h3",null,{"id":"how-did-this-happen","children":[["$","a",null,{"href":"#how-did-this-happen","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"How Did This Happen?"]}],["$","p",null,{"children":["The root cause seems to trace back to performance complaints from developers dealing with ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://github.com/vercel/next.js/issues/55524","children":"computationally expensive metadata generation"}],". Some users were experiencing significant delays during server-side rendering while generating metadata, particularly when fetching data from external APIs. As a result, Vercel started working on a solution."]}],["$","h3",null,{"id":"what-about-search-engines","children":[["$","a",null,{"href":"#what-about-search-engines","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"What About Search Engines?"]}],["$","p",null,{"children":["Search engines that don't run JavaScript will miss your metadata entirely. This hurts your SEO. So Vercel introduced another fix to this situation they got themselves into: ",["$","code",null,{"children":"htmlLimitedBots"}],". If the server detects a crawler, streaming is skipped and the metadata is included in the ",["$","code",null,{"children":"HEAD"}],"."]}],["$","h3",null,{"id":"what-about-other-providers","children":[["$","a",null,{"href":"#what-about-other-providers","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"What About Other Providers?"]}],["$","p",null,{"children":["Are providers like Netlify, Cloudflare, or AWS better? Not really. For one, make sure to read this ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://eduardoboucas.com/posts/2025-03-25-you-should-know-this-before-choosing-nextjs/","children":"article"}],". These providers created OpenNext to make Next.js work on their platforms. There is just one problem: These adapters are ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://github.com/opennextjs/opennextjs-aws/issues","children":"garbage"}],". Next.js has become so tightly coupled to Vercel's infrastructure that porting it anywhere else requires significant reverse-engineering."]}],["$","h3",null,{"id":"what-if-you-have-a-static-build","children":[["$","a",null,{"href":"#what-if-you-have-a-static-build","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"What If You Have A Static Build?"]}],["$","p",null,{"children":"Here's where it gets absurd. Even with static builds, metadata tags aren't included in the HTML head anymore. They're bundled with React Server Components and require JavaScript execution. Your static site server now needs crawler detection logic just to serve basic HTML metadata."}],["$","h3",null,{"id":"it-gets-worse","children":[["$","a",null,{"href":"#it-gets-worse","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"It Gets Worse."]}],["$","blockquote",null,{"children":["$","p",null,{"children":"On March 21, 2025, a critical vulnerability (GHSA-f82v-jwr5-mffw/CVE-2025-29927) was disclosed in Next.js. This vulnerability allows attackers to bypass authorization checks implemented in middleware by manipulating a specific header. With a CVSS score of 9.1, this is classified as a critical security issue."}]}],["$","p",null,{"children":"What does this have to do with any of this? Well, if you're locked into version 15.1.8 to avoid metadata streaming, you're running vulnerable code. That is because the patch was released on 15.2.3."}],["$","h3",null,{"id":"it-doesnt-get-better","children":[["$","a",null,{"href":"#it-doesnt-get-better","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"It Doesn't Get Better."]}],["$","p",null,{"children":"Metadata streaming obscures hidden performance problems. If you use metadata tag streaming, you might become unaware of latency issues with your pages. Search engine crawlers will penalize you if your page takes too long to load. So..."}],["$","h3",null,{"id":"closing-thoughts","children":[["$","a",null,{"href":"#closing-thoughts","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"Closing Thoughts"]}],["$","p",null,{"children":"Next.js has become a Vercel vendor lock-in disguised as an open-source framework. Save yourself the headache and choose something else for your \"next\" project."}]],["$","$L10",null,{}]]}]}]]}]]}]]
d:null
